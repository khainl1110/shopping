(this.webpackJsonpreact_api=this.webpackJsonpreact_api||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),i=c.n(r),a=c(8),s=c.n(a),j=(c(14),c(3)),o=c(2),u=i.a.createContext();function b(e){return Object(n.jsx)("h1",{children:"Welcome to ExpressBuy"})}function d(e){var t=Object(r.useContext)(u),c=Object(o.a)(t,2),i=c[0],a=c[1],s=Object(r.useState)(1),b=Object(o.a)(s,2),d=b[0],l=b[1];return Object(n.jsx)("div",{class:"m-10 dynamic-bg",children:Object(n.jsxs)("a",{href:"#",children:[Object(n.jsx)("img",{src:e.order.href,alt:e.order.name,width:"300",height:"250"}),Object(n.jsx)("p",{children:e.order.name}),Object(n.jsxs)("p",{children:["Price: $",e.order.price]}),Object(n.jsxs)("p",{children:["Unit: ",e.order.unit]}),Object(n.jsxs)("div",{className:"horizontal-flex-container",children:[Object(n.jsx)("input",{type:"Number",value:d,onChange:function(e){l(e.target.value)}}),Object(n.jsx)("button",{onClick:function(){var t=!1;if(i.map((function(c){if(c.item.name===e.order.name){var n=Object(j.a)(i);n[n.indexOf(c)].quantity+=parseInt(d),a(n),alert("Added!"),t=!0}})),!t){var c=Object(j.a)(i);c.push({item:e.order,quantity:d}),a(c),alert("Added new item!")}},children:" Add "})]})]})})}var l=c(7);function O(e){var t=Object(r.useState)(e.order.quantity),c=Object(o.a)(t,2),i=c[0],a=c[1],s=Object(r.useState)(!1),b=Object(o.a)(s,2),d=b[0],O=b[1],h=Object(r.useState)(!1),x=Object(o.a)(h,2),f=x[0],m=x[1],p=Object(r.useContext)(u),v=Object(o.a)(p,2),g=v[0],C=v[1];return Object(r.useEffect)((function(){O(i<=1),10===i?m(!0):O(!1);var t=Object(j.a)(g),c=t.indexOf(e.order);t[c].subTotal=i*e.order.item.price,console.log(t[c].subTotal),C(t)}),[i]),Object(n.jsxs)("div",{className:"order-container dynamic-bg",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:e.order.item.name}),Object(n.jsx)("img",{src:e.order.item.href,width:"100",height:"100"})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{children:["Price: $",e.order.item.price," per ",e.order.item.unit]}),Object(n.jsx)("p",{children:"Quantity:"}),Object(n.jsxs)("div",{className:"quantity-control",children:[Object(n.jsxs)("button",{className:"transparent-bg",onClick:function(){return a(i-1)},disabled:d,children:[Object(n.jsx)(l.a,{})," "]}),Object(n.jsx)("select",{value:i,onChange:function(e){a(e.target.value)},children:Object(j.a)(Array(11)).map((function(e,t){return 0!==t&&Object(n.jsx)("option",{value:t,children:t})}))}),Object(n.jsx)("button",{className:"transparent-bg",onClick:function(){return a(i+1)},disabled:f,children:Object(n.jsx)(l.b,{})})]}),Object(n.jsxs)("h4",{children:["Subtotal: $",i*e.order.item.price]}),Object(n.jsx)("button",{onClick:function(){var t=Object(j.a)(g),c=t.indexOf(e.order);t.splice(c,1),C(t)},children:"Remove"})]})]})}function h(e){var t=Object(r.useContext)(u),c=Object(o.a)(t,1)[0],i=Object(r.useState)(0),a=Object(o.a)(i,2),s=a[0],j=a[1];return Object(r.useEffect)((function(){var e=0;c.map((function(t){return e+=parseInt(t.subTotal)})),j(e)}),[c]),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"orders-container",children:c.map((function(e){return Object(n.jsx)(O,{order:e})}))}),Object(n.jsxs)("h2",{children:["Total $",s]}),Object(n.jsx)("button",{onClick:function(){return alert("Thanks for buying!")},children:"Buy"})]})}c(15);function x(e){var t=Object(r.useState)([]),c=Object(o.a)(t,2),i=c[0],a=c[1],s=Object(r.useState)([]),l=Object(o.a)(s,2),O=l[0],x=l[1],f=Object(r.useState)(0),m=Object(o.a)(f,2),p=m[0],v=m[1];return Object(r.useEffect)((function(){fetch("https://quiet-everglades-39046.herokuapp.com/orders").then((function(e){return e.json()})).then((function(e){a(e);var t=Object(j.a)(O);t.push({item:e[0],quantity:2,subTotal:2*e[0].price}),t.push({item:e[3],quantity:3,subTotal:3*e[3].price}),x(t)}))}),[]),Object(n.jsxs)(u.Provider,{value:[O,x],children:[Object(n.jsx)(b,{}),Object(n.jsxs)("nav",{children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",onClick:function(){return v(0)},children:"Market"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"#",onClick:function(){return v(1)},children:"Your cart"})})]}),0===p?Object(n.jsx)("div",{className:"container",children:i.map((function(e){return Object(n.jsx)(d,{order:e})}))}):Object(n.jsx)(h,{})]})}var f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,17)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),i(e),a(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),f()}},[[16,1,2]]]);
//# sourceMappingURL=main.4b6125cb.chunk.js.map